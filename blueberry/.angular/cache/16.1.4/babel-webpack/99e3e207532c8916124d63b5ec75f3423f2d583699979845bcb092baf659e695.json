{"ast":null,"code":"var _a;\nimport { __decorate, __metadata } from \"tslib\";\nimport { Component, ViewChild } from \"@angular/core\";\nimport { MatDialog } from \"@angular/material\";\nimport { APIService } from \"../services/api.service\";\nimport { CommandService } from \"../services/command.service\";\nimport { SocketService } from \"../services/socket.service\";\nimport { HomeComponent } from \"./home.component\";\nimport { AudioComponent } from \"./audio/audio.component\";\nexport let AppComponent = class AppComponent {\n  constructor(api, socket, command, dialog) {\n    this.api = api;\n    this.socket = socket;\n    this.command = command;\n    this.dialog = dialog;\n    this.unlocking = false;\n    this.location = window.location;\n    this.showManagement = () => {\n      if (this.dialog.openDialogs.length > 0) {\n        return false;\n      }\n      if (this.home.audio && this.home.audio.isShowing()) {\n        return false;\n      }\n      if (!this.home) {\n        return true;\n      }\n      if (!this.home.wheel) {\n        return true;\n      }\n      if (this.home.wheel.getPower() === \"standby\") {\n        return true;\n      }\n      return false;\n    };\n  }\n  unlock() {\n    if (this.home.wheel == null) {\n      return;\n    }\n    this.unlocking = true;\n    this.home.turnOn().subscribe(success => {\n      if (!success) {\n        console.log(\"failed to turn on\");\n        this.unlocking = false;\n      } else {\n        setTimeout(() => this.unlocking = false, 1000);\n      }\n    });\n  }\n};\n__decorate([ViewChild(HomeComponent), __metadata(\"design:type\", HomeComponent)], AppComponent.prototype, \"home\", void 0);\n__decorate([ViewChild(AudioComponent), __metadata(\"design:type\", AudioComponent)], AppComponent.prototype, \"audio\", void 0);\nAppComponent = __decorate([Component({\n  selector: \"app-root\",\n  templateUrl: \"./app.component.html\",\n  styleUrls: [\"./app.component.scss\", \"../colorscheme.scss\"]\n}), __metadata(\"design:paramtypes\", [APIService, SocketService, CommandService, typeof (_a = typeof MatDialog !== \"undefined\" && MatDialog) === \"function\" ? _a : Object])], AppComponent);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}